{"version":3,"sources":["../../../server/mongo_api/migrations/migrations.js"],"names":["MongooseDatabase","getInstance","db","SeedFactory","seeders","Seeder","dummyData","DummyData","console","log","tearDown","buildUp","seedRole","previledgesA","seed3rdPartySettings","paystackSettings","googleSettings","facebookSettings","instagramSettings","sendgridSettings","awsSettings","seedUsers","users","drivers","seedPlanCategory","plan","seedIndividualPlans","individualPlan","seedCoperatePlans","coperatePlan","seedCars","cars","setTimeout","mongoose","connection","close","Migrate","runSeeder"],"mappings":"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","sourcesContent":["import mongoose from 'mongoose';\nimport Seeder from './seeders';\nimport DummyData from './dummy_data';\nimport db from '../models/db';\n/****************************************************************/\n/******* @author saladin jake (Victor juwa) ********************************/\n/******* @desc Express js || ****************/\nconst MongooseDatabase = db.getInstance() || new db();\nclass SeedFactory {\n  constructor() {\n    this.seeders = new Seeder();\n    this.dummyData = DummyData;\n\n    console.log('starting migrations...');\n    // perform seeding\n    this.seeders.tearDown();\n\n    this.seeders.buildUp();\n  }\n\n  runSeeder() {\n    //this.seeders.seedQuotationHistory(this.dummyData.quotationHistory[0]);\n    // this.seeders.seedQuotationHistory(this.dummyData.quotationHistory[1]);\n    // this.seeders.seedQuotationHistory(this.dummyData.quotationHistory[2]);\n\n    this.seeders.seedRole(this.dummyData.previledgesA[0]);\n    this.seeders.seedRole(this.dummyData.previledgesA[1]);\n    this.seeders.seedRole(this.dummyData.previledgesA[2]);\n\n    // this.seeders.seedEarnings(this.dummyData.earnings[0])\n\n    //this.seeders.seedInspectionAndDriveTest(this.dummyData.inspection[0],this.dummyData.driveTest[0])\n\n    this.seeders.seed3rdPartySettings(\n      this.dummyData.paystackSettings[0], //paystack,google,facebook,instagram,sendgrid,aws\n      this.dummyData.googleSettings[0],\n      this.dummyData.facebookSettings[0],\n      this.dummyData.instagramSettings[0],\n      this.dummyData.sendgridSettings[0],\n      this.dummyData.awsSettings[0],\n    );\n\n    //console.log(\"starting user seeds...\")\n    this.seeders.seedUsers(this.dummyData.users[0]);\n    this.seeders.seedUsers(this.dummyData.users[1]);\n    // this.seeders.seedUsers(this.dummyData.users[2]);\n    //this.seeders.seedUsers(this.dummyData.users[3]);\n\n    //seed partners\n    // this.seeders.seedPartners(this.dummyData.partners[0]);\n\n    //seed drivers\n    this.seeders.seedUsers(this.dummyData.drivers[0]);\n    // this.seeders.seedUsers(this.dummyData.drivers[1]);\n    // this.seeders.seedUsers(this.dummyData.drivers[2]);\n    // this.seeders.seedUsers(this.dummyData.drivers[3]);\n\n    //plan category\n    this.seeders.seedPlanCategory(this.dummyData.plan[0]);\n    this.seeders.seedPlanCategory(this.dummyData.plan[1]);\n\n    //individual plan\n    this.seeders.seedIndividualPlans(this.dummyData.individualPlan[0]);\n    this.seeders.seedIndividualPlans(this.dummyData.individualPlan[1]);\n    this.seeders.seedIndividualPlans(this.dummyData.individualPlan[2]);\n    this.seeders.seedIndividualPlans(this.dummyData.individualPlan[3]);\n\n    //coperate plan addCoperatePlan\n    this.seeders.seedCoperatePlans(this.dummyData.coperatePlan[0]);\n    this.seeders.seedCoperatePlans(this.dummyData.coperatePlan[1]);\n\n    //users plan addCoperatePlan\n    // this.seeders.seedUsersPlan(this.dummyData.userPlan[0]);\n\n    //wallet\n    // this.seeders.seedWalletHistory(this.dummyData.walletHistory[0]);\n    // this.seeders.seedWalletHistory(this.dummyData.walletHistory[1]);\n    // this.seeders.seedWalletHistory(this.dummyData.walletHistory[2]);\n    // this.seeders.seedWalletHistory(this.dummyData.walletHistory[3]);\n\n    // this.seeders.seedPaymentHistory(this.dummyData.paymentHistory[0]);\n\n    //cars\n    this.seeders.seedCars(this.dummyData.cars[0]);\n    this.seeders.seedCars(this.dummyData.cars[1]);\n    this.seeders.seedCars(this.dummyData.cars[2]);\n    this.seeders.seedCars(this.dummyData.cars[3]);\n    this.seeders.seedCars(this.dummyData.cars[4]);\n\n    //  this.seeders.seedItinerary(this.dummyData.userItinerary[0]);\n    // this.seeders.seedItinerary(this.dummyData.userItinerary[1]);\n    // this.seeders.seedItinerary(this.dummyData.userItinerary[2]);\n\n    console.log('starting interventions seeds...');\n    //      this.seeders.seedSOSRequestByUser(\n    //      this.dummyData.redflags[0],\n    //      this.dummyData.redflags[0].user_id);\n\n    //       this.seeders.seedSOSRequestByUser(\n    //      this.dummyData.redflags[1],\n    //         1);\n\n    // this.seeders.seedSOSRequestByUser(\n    //      this.dummyData.redflags[2],\n    //      1);\n\n    // this.seeders.seedSOSRequestByUser(\n    //      this.dummyData.redflags[3],\n    //      1);\n\n    //    console.log(\"starting redflags seeds...\")\n    //      this.seeders.seedFeedbackByUser(\n    //      this.dummyData.interventions[0],\n    //      0);\n\n    //      this.seeders.seedFeedbackByUser(\n    //      this.dummyData.interventions[1],\n    //      0);\n\n    //      this.seeders.seedFeedbackByUser(\n    //      this.dummyData.interventions[2],\n    //      0);\n\n    // this.seeders.seedFaqs(this.dummyData.faqs[0]);\n    // this.seeders.seedFaqs(this.dummyData.faqs[1]);\n    // this.seeders.seedFaqs(this.dummyData.faqs[2]);\n\n    // this.seeders.seedNotification(this.dummyData.notification[0]);\n    // this.seeders.seedNotification(this.dummyData.notification[1]);\n    // this.seeders.seedNotification(this.dummyData.notification[2]);\n\n    // this.seeders.seedMechanicRequest(this.dummyData.mechanicRequest[0]);\n    //to prevent database from halting test process\n    setTimeout(() => {\n      mongoose.connection.close();\n    }, 39000);\n  }\n}\n\nlet Migrate = new SeedFactory();\nMigrate.runSeeder();\n\nexport default SeedFactory;\n"],"file":"migrations.js"}