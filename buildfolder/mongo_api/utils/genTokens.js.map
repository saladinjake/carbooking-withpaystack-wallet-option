{"version":3,"sources":["../../../server/mongo_api/utils/genTokens.js"],"names":["dotenv","config","jwt","require","createToken","auth","sign","id","process","env","SECRET","expiresIn","module","exports","generateToken","req","res","next","token","sendToken","setHeader","status","send","JSON","stringify","user"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACAA,mBAAOC,MAAP;;AACA,IAAIC,GAAG,2BAAGC,OAAO,CAAC,cAAD,CAAV,CAAP;AACA;;AACA;;AACA;;;;AACA,IAAIC,WAAW,GAAG,SAAdA,WAAc,CAASC,IAAT,EAAe;AAAA;AAAA;AAC/B,SAAOH,GAAG,CAACI,IAAJ,CACL;AACEC,IAAAA,EAAE,EAAEF,IAAI,CAACE;AADX,GADK,EAILC,OAAO,CAACC,GAAR,CAAYC,MAJP,EAKL;AACEC,IAAAA,SAAS,EAAE,KAAK;AADlB,GALK,CAAP;AASD,CAVD;;;AAYAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,aAAa,EAAE,uBAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAAA;AAAA;AACtCF,IAAAA,GAAG,CAACG,KAAJ,GAAYd,WAAW,CAACW,GAAG,CAACV,IAAL,CAAvB;AADsC;AAEtC,WAAOY,IAAI,EAAX;AACD,GAJc;AAKfE,EAAAA,SAAS,EAAE,mBAASJ,GAAT,EAAcC,GAAd,EAAmB;AAAA;AAAA;AAC5BA,IAAAA,GAAG,CAACI,SAAJ,CAAc,cAAd,EAA8BL,GAAG,CAACG,KAAlC;AAD4B;AAE5B,WAAOF,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,IAAI,CAACC,SAAL,CAAeT,GAAG,CAACU,IAAnB,CAArB,CAAP;AACD;AARc,CAAjB","sourcesContent":["import dotenv from 'dotenv';\ndotenv.config();\nvar jwt = require('jsonwebtoken');\n/****************************************************************/\n/******* @author saladin jake (Victor juwa) ********************************/\n/******* @desc Express js || ****************/\nvar createToken = function(auth) {\n  return jwt.sign(\n    {\n      id: auth.id,\n    },\n    process.env.SECRET,\n    {\n      expiresIn: 60 * 120,\n    },\n  );\n};\n\nmodule.exports = {\n  generateToken: function(req, res, next) {\n    req.token = createToken(req.auth);\n    return next();\n  },\n  sendToken: function(req, res) {\n    res.setHeader('x-auth-token', req.token);\n    return res.status(200).send(JSON.stringify(req.user));\n  },\n};\n"],"file":"genTokens.js"}