{"version":3,"sources":["../../../../server/dynamic_server/mongo_api/utils/mailer.js"],"names":["mailer","mailData","to","subject","text","html","transporter","nodemailer","createTransport","host","port","secure","auth","user","process","env","EMAIL","pass","EMAIL_PASSWORD","sendMail","from","info","messageId","getTestMessageUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;AAEA;;;;;;;AAOA,IAAMA,MAAM,GAAG,SAATA,MAAS,CAAOC,QAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAGTA,QAHS,GAEXC,EAFW,QAEXA,EAFW,EAEPC,OAFO,QAEPA,OAFO,EAEEC,IAFF,QAEEA,IAFF,EAEQC,IAFR,QAEQA,IAFR;AAAA;AAAA;AAMLC,UAAAA,WANK,yBAMSC,uBAAWC,eAAX,CAA2B;AAC7CC,YAAAA,IAAI,EAAE,gBADuC;AAE7CC,YAAAA,IAAI,EAAE,GAFuC;AAG7CC,YAAAA,MAAM,EAAE,KAHqC;AAI7CC,YAAAA,IAAI,EAAE;AACJC,cAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,KADd;AAEJC,cAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAFd;AAJuC,WAA3B,CANT;AAAA;AAAA;AAAA,0CAgBQZ,WAAW,CAACa,QAAZ,CAAqB;AACtCC,YAAAA,IAAI,EAAE,wCADgC;AAEtClB,YAAAA,EAAE,EAAFA,EAFsC;AAGtCC,YAAAA,OAAO,EAAPA,OAHsC;AAItCC,YAAAA,IAAI,EAAJA,IAJsC;AAKtCC,YAAAA,IAAI,EAAJA;AALsC,WAArB,CAhBR;;AAAA;AAgBLgB,UAAAA,IAhBK;AAAA;AAwBX,iCAAM,aAAN,EAAqB,kBAArB,EAAyCA,IAAI,CAACC,SAA9C;AAxBW;AAyBX,iCAAM,aAAN,EAAqB,iBAArB,EAAwCf,uBAAWgB,iBAAX,CAA6BF,IAA7B,CAAxC;AAzBW;AAAA;;AAAA;AAAA;AAAA;AAAA;AA2BX,iCAAM,aAAN;;AA3BW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAf;;eA+BerB,M","sourcesContent":["import nodemailer from 'nodemailer';\nimport debug from 'debug';\n\n/**\n *@description - A function for sending mail\n *\n * @param {Object} mailData Mail Details\n *\n * @returns {void} void\n */\nconst mailer = async (mailData) => {\n  const {\n    to, subject, text, html,\n  } = mailData;\n\n  try {\n    const transporter = nodemailer.createTransport({\n      host: 'smtp.gmail.com',\n      port: 587,\n      secure: false,\n      auth: {\n        user: process.env.EMAIL,\n        pass: process.env.EMAIL_PASSWORD,\n      },\n    });\n\n    const info = await transporter.sendMail({\n      from: '\"Banka App \" <tejumoladavid@gmail.com>',\n      to,\n      subject,\n      text,\n      html,\n    });\n\n    debug('development')('Message sent: %s', info.messageId);\n    debug('development')('Preview URL: %s', nodemailer.getTestMessageUrl(info));\n  } catch (err) {\n    debug('development')(err);\n  }\n};\n\nexport default mailer;\n"],"file":"mailer.js"}