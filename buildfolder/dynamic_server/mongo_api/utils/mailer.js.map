{"version":3,"sources":["../../../../server/dynamic_server/mongo_api/utils/mailer.js"],"names":["mailer","mailData","to","subject","text","html","transporter","nodemailer","createTransport","host","port","secure","auth","user","process","env","EMAIL","pass","EMAIL_PASSWORD","sendMail","from","info","messageId","getTestMessageUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;AACA;;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMA,MAAM;AAAA,2FAAG,iBAAMC,QAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACuBA,QADvB,GACLC,EADK,SACLA,EADK,EACDC,OADC,SACDA,OADC,EACQC,IADR,SACQA,IADR,EACcC,IADd,SACcA,IADd;AAAA;AAAA;AAILC,YAAAA,WAJK,yBAISC,uBAAWC,eAAX,CAA2B;AAC7CC,cAAAA,IAAI,EAAE,gBADuC;AAE7CC,cAAAA,IAAI,EAAE,GAFuC;AAG7CC,cAAAA,MAAM,EAAE,KAHqC;AAI7CC,cAAAA,IAAI,EAAE;AACJC,gBAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,KADd;AAEJC,gBAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAFd;AAJuC,aAA3B,CAJT;AAAA;AAAA;AAAA,mBAcQZ,WAAW,CAACa,QAAZ,CAAqB;AACtCC,cAAAA,IAAI,EAAE,wCADgC;AAEtClB,cAAAA,EAAE,EAAFA,EAFsC;AAGtCC,cAAAA,OAAO,EAAPA,OAHsC;AAItCC,cAAAA,IAAI,EAAJA,IAJsC;AAKtCC,cAAAA,IAAI,EAAJA;AALsC,aAArB,CAdR;;AAAA;AAcLgB,YAAAA,IAdK;AAAA;AAsBX,mCAAM,aAAN,EAAqB,kBAArB,EAAyCA,IAAI,CAACC,SAA9C;AAtBW;AAuBX,mCAAM,aAAN,EAAqB,iBAArB,EAAwCf,uBAAWgB,iBAAX,CAA6BF,IAA7B,CAAxC;AAvBW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAyBX,mCAAM,aAAN;;AAzBW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAANrB,MAAM;AAAA;AAAA;AAAA,GAAZ;;eA6BeA,M","sourcesContent":["import nodemailer from 'nodemailer';\nimport debug from 'debug';\n/****************************************************************/\n/******* @author saladin jake (Victor juwa) ********************************/\n/******* @desc Express js || ****************/\n/**\n *@description - A function for sending mail\n *\n * @param {Object} mailData Mail Details\n *\n * @returns {void} void\n */\nconst mailer = async mailData => {\n  const { to, subject, text, html } = mailData;\n\n  try {\n    const transporter = nodemailer.createTransport({\n      host: 'smtp.gmail.com',\n      port: 587,\n      secure: false,\n      auth: {\n        user: process.env.EMAIL,\n        pass: process.env.EMAIL_PASSWORD,\n      },\n    });\n\n    const info = await transporter.sendMail({\n      from: '\"Banka App \" <tejumoladavid@gmail.com>',\n      to,\n      subject,\n      text,\n      html,\n    });\n\n    debug('development')('Message sent: %s', info.messageId);\n    debug('development')('Preview URL: %s', nodemailer.getTestMessageUrl(info));\n  } catch (err) {\n    debug('development')(err);\n  }\n};\n\nexport default mailer;\n"],"file":"mailer.js"}