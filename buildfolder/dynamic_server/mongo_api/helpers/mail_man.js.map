{"version":3,"sources":["../../../../server/dynamic_server/mongo_api/helpers/mail_man.js"],"names":["SendMail","options","mailer","nodemailer","settings","config","mail","self","transporter","createTransport","Promise","resolve","reject","sendMail","error","info","Error"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;AACA;;;;;;;;;;IAGMA,Q;;;AACF,oBAAYC,OAAZ,EAAqB;AAAA;;AAAA;AAAA;AACjB,SAAKC,MAAL,GAAcC,sBAAd;AADiB;AAEjB,SAAKC,QAAL,GAAgBC,yBAAOC,IAAvB;AAFiB;AAGjB,SAAKL,OAAL,GAAeA,OAAf;AACH;;;;2BAEM;AAAA;AAAA;;AACH,UAAG,8BAAKC,MAAL,8BAAe,KAAKD,OAApB,CAAH,EAAgC;AAAA;AAC5B,YAAIM,IAAI,yBAAG,IAAH,CAAR;AACA,YAAIC,WAAW,yBAAGD,IAAI,CAACL,MAAL,CAAYO,eAAZ,CAA4BF,IAAI,CAACH,QAAjC,CAAH,CAAf;AAF4B;;AAI5B,YAAGI,WAAW,KAAK,IAAnB,EAAyB;AAAA;AAAA;AACrB,iBAAO,IAAIE,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAoB;AAAA;AAAA;AACnCJ,YAAAA,WAAW,CAACK,QAAZ,CAAqBN,IAAI,CAACN,OAA1B,EAAmC,UAACa,KAAD,EAAQC,IAAR,EAAgB;AAAA;AAAA;;AAC/C,kBAAGD,KAAH,EAAU;AAAA;AAAA;AACNF,gBAAAA,MAAM,CAACI,KAAK,CAAC,QAAD,CAAN,CAAN;AACH,eAFD,MAEO;AAAA;AAAA;AACHL,gBAAAA,OAAO,CAAC,IAAD,CAAP;AACH;AACJ,aAND;AAOH,WARM,CAAP;AASH,SAVD;AAAA;AAAA;AAWH,OAfD;AAAA;AAAA;AAgBH;;;;;;eAIUX,Q","sourcesContent":["'use strict';\nimport config from '../mongo_config';\nimport nodemailer from 'nodemailer';\n\n\nclass SendMail {\n    constructor(options) {\n        this.mailer = nodemailer;\n        this.settings = config.mail;\n        this.options = options;\n    }\n\n    send() {\n        if(this.mailer && this.options) {\n            let self = this;\n            let transporter = self.mailer.createTransport(self.settings);\n\n            if(transporter !== null) {\n                return new Promise((resolve, reject) =>{\n                    transporter.sendMail(self.options, (error, info) =>{\n                        if(error) {\n                            reject(Error('Failed'));\n                        } else {\n                            resolve('OK');\n                        }\n                    });\n                });\n            }\n        }\n    }\n}\n\n\nexport default SendMail;"],"file":"mail_man.js"}