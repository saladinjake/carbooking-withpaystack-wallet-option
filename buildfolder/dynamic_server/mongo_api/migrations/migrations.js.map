{"version":3,"sources":["../../../../server/dynamic_server/mongo_api/migrations/migrations.js"],"names":["MongooseDatabase","getInstance","db","SeedFactory","seeders","Seeder","dummyData","DummyData","console","log","tearDown","buildUp","seedRole","previledgesA","seed3rdPartySettings","paystackSettings","googleSettings","facebookSettings","instagramSettings","sendgridSettings","awsSettings","seedUsers","users","seedPartners","partners","drivers","seedPlanCategory","plan","seedIndividualPlans","individualPlan","seedCoperatePlans","coperatePlan","seedUsersPlan","userPlan","seedWalletHistory","walletHistory","seedPaymentHistory","paymentHistory","seedCars","cars","seedItinerary","userItinerary","seedSOSRequestByUser","redflags","user_id","seedFeedbackByUser","interventions","seedFaqs","faqs","seedMechanicRequest","mechanicRequest","setTimeout","mongoose","connection","close","Migrate","runSeeder"],"mappings":"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","sourcesContent":["import mongoose from 'mongoose'\nimport Seeder from './seeders';\nimport DummyData  from './dummy_data';\nimport db from '../models/db';\n\n\nconst MongooseDatabase = db.getInstance() || new db();\nclass SeedFactory{\n\tconstructor(){\n\t\tthis.seeders = new Seeder();\n\t\tthis.dummyData = DummyData;\n    \n    console.log(\"starting migrations...\")\n          // perform seeding\n    this.seeders.tearDown();\n\n    this.seeders.buildUp()\n\n           \n\n\n\t\n\t}\n\n\trunSeeder(){\n\n    //this.seeders.seedQuotationHistory(this.dummyData.quotationHistory[0]);\n    // this.seeders.seedQuotationHistory(this.dummyData.quotationHistory[1]);\n    // this.seeders.seedQuotationHistory(this.dummyData.quotationHistory[2]);\n\n    \n     this.seeders.seedRole(this.dummyData.previledgesA[0])\n    this.seeders.seedRole(this.dummyData.previledgesA[1])\n     this.seeders.seedRole(this.dummyData.previledgesA[2])\n\n\n    //this.seeders.seedInspectionAndDriveTest(this.dummyData.inspection[0],this.dummyData.driveTest[0])\n\n\n    this.seeders.seed3rdPartySettings(\n      this.dummyData.paystackSettings[0], //paystack,google,facebook,instagram,sendgrid,aws\n      this.dummyData.googleSettings[0],\n      this.dummyData.facebookSettings[0],\n      this.dummyData.instagramSettings[0],\n      this.dummyData.sendgridSettings[0],\n      this.dummyData.awsSettings[0]\n      );\n\n     \n\t\t//console.log(\"starting user seeds...\")\n      this.seeders.seedUsers(this.dummyData.users[0]);\n      this.seeders.seedUsers(this.dummyData.users[1]);\n      // this.seeders.seedUsers(this.dummyData.users[2]);\n      //this.seeders.seedUsers(this.dummyData.users[3]);\n\n\n      //seed partners\n      this.seeders.seedPartners(this.dummyData.partners[0]);\n\n      //seed drivers\n      this.seeders.seedUsers(this.dummyData.drivers[0]);\n      // this.seeders.seedUsers(this.dummyData.drivers[1]);\n      // this.seeders.seedUsers(this.dummyData.drivers[2]);\n      // this.seeders.seedUsers(this.dummyData.drivers[3]);\n  \n      //plan category\n      this.seeders.seedPlanCategory(this.dummyData.plan[0]);\n      this.seeders.seedPlanCategory(this.dummyData.plan[1]);\n\n      //individual plan \n       this.seeders.seedIndividualPlans(this.dummyData.individualPlan[0]);\n      this.seeders.seedIndividualPlans(this.dummyData.individualPlan[1]);\n       this.seeders.seedIndividualPlans(this.dummyData.individualPlan[2]);\n     this.seeders.seedIndividualPlans(this.dummyData.individualPlan[3]);\n\n     //coperate plan addCoperatePlan\n       this.seeders.seedCoperatePlans(this.dummyData.coperatePlan[0]);\n      this.seeders.seedCoperatePlans(this.dummyData.coperatePlan[1]);\n      \n\n\n       //users plan addCoperatePlan\n      this.seeders.seedUsersPlan(this.dummyData.userPlan[0]);\n\n\n\n      //wallet\n      this.seeders.seedWalletHistory(this.dummyData.walletHistory[0]);\n      this.seeders.seedWalletHistory(this.dummyData.walletHistory[1]);\n      this.seeders.seedWalletHistory(this.dummyData.walletHistory[2]);\n      this.seeders.seedWalletHistory(this.dummyData.walletHistory[3]);\n\n\n\n      this.seeders.seedPaymentHistory(this.dummyData.paymentHistory[0]);\n      \n\n\n      \n      \n      \n\n      //cars\n      this.seeders.seedCars(this.dummyData.cars[0]);\n      this.seeders.seedCars(this.dummyData.cars[1]);\n      this.seeders.seedCars(this.dummyData.cars[2]);\n      this.seeders.seedCars(this.dummyData.cars[3]);\n      this.seeders.seedCars(this.dummyData.cars[4]);\n\n\n       this.seeders.seedItinerary(this.dummyData.userItinerary[0]);\n      this.seeders.seedItinerary(this.dummyData.userItinerary[1]);\n      this.seeders.seedItinerary(this.dummyData.userItinerary[2]);\n     \n\n        console.log(\"starting interventions seeds...\")\n      this.seeders.seedSOSRequestByUser(\n      this.dummyData.redflags[0], \n      this.dummyData.redflags[0].user_id);\n\n       this.seeders.seedSOSRequestByUser(\n      this.dummyData.redflags[1], \n         1);\n\n\n this.seeders.seedSOSRequestByUser(\n      this.dummyData.redflags[2], \n      1);\n\n this.seeders.seedSOSRequestByUser(\n      this.dummyData.redflags[3], \n      1);\n\n\n      \n\n\tconsole.log(\"starting redflags seeds...\")\n      this.seeders.seedFeedbackByUser(\n      this.dummyData.interventions[0], \n      0);\n\n      this.seeders.seedFeedbackByUser(\n      this.dummyData.interventions[1], \n      0);\n\n      this.seeders.seedFeedbackByUser(\n      this.dummyData.interventions[2], \n      0);\n\n      \n\n      this.seeders.seedFaqs(this.dummyData.faqs[0]);\n      this.seeders.seedFaqs(this.dummyData.faqs[1]);\n      this.seeders.seedFaqs(this.dummyData.faqs[2]);\n\n\n      // this.seeders.seedNotification(this.dummyData.notification[0]);\n      // this.seeders.seedNotification(this.dummyData.notification[1]);\n      // this.seeders.seedNotification(this.dummyData.notification[2]);\n      \n\n     this.seeders.seedMechanicRequest(this.dummyData.mechanicRequest[0]);\n      //to prevent database from halting test process\n      setTimeout(() =>{\n        mongoose.connection.close();\n            \n      },39000 )\n\t\n\t}\n}\n\nlet Migrate = new SeedFactory();\nMigrate.runSeeder()\n\n \nexport default SeedFactory;"],"file":"migrations.js"}