{"version":3,"sources":["../../../../server/dynamic_server/mongo_api/migrations/migrations.js"],"names":["MongooseDatabase","getInstance","db","SeedFactory","seeders","Seeder","dummyData","DummyData","console","log","tearDown","buildUp","seedRole","previledgesA","seed3rdPartySettings","paystackSettings","googleSettings","facebookSettings","instagramSettings","sendgridSettings","awsSettings","seedUsers","users","drivers","seedPlanCategory","plan","seedIndividualPlans","individualPlan","seedCoperatePlans","coperatePlan","seedCars","cars","setTimeout","mongoose","connection","close","Migrate","runSeeder"],"mappings":"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","sourcesContent":["import mongoose from 'mongoose'\nimport Seeder from './seeders';\nimport DummyData  from './dummy_data';\nimport db from '../models/db';\n\n\nconst MongooseDatabase = db.getInstance() || new db();\nclass SeedFactory{\n    constructor(){\n        this.seeders = new Seeder();\n        this.dummyData = DummyData;\n    \n    console.log(\"starting migrations...\")\n          // perform seeding\n    this.seeders.tearDown();\n\n    this.seeders.buildUp()\n\n           \n\n\n    \n    }\n\n    runSeeder(){\n\n    //this.seeders.seedQuotationHistory(this.dummyData.quotationHistory[0]);\n    // this.seeders.seedQuotationHistory(this.dummyData.quotationHistory[1]);\n    // this.seeders.seedQuotationHistory(this.dummyData.quotationHistory[2]);\n\n    \n     this.seeders.seedRole(this.dummyData.previledgesA[0])\n    this.seeders.seedRole(this.dummyData.previledgesA[1])\n     this.seeders.seedRole(this.dummyData.previledgesA[2])\n\n     // this.seeders.seedEarnings(this.dummyData.earnings[0])\n\n\n    //this.seeders.seedInspectionAndDriveTest(this.dummyData.inspection[0],this.dummyData.driveTest[0])\n\n\n    this.seeders.seed3rdPartySettings(\n      this.dummyData.paystackSettings[0], //paystack,google,facebook,instagram,sendgrid,aws\n      this.dummyData.googleSettings[0],\n      this.dummyData.facebookSettings[0],\n      this.dummyData.instagramSettings[0],\n      this.dummyData.sendgridSettings[0],\n      this.dummyData.awsSettings[0]\n      );\n\n     \n        //console.log(\"starting user seeds...\")\n      this.seeders.seedUsers(this.dummyData.users[0]);\n      // this.seeders.seedUsers(this.dummyData.users[1]);\n      // this.seeders.seedUsers(this.dummyData.users[2]);\n      //this.seeders.seedUsers(this.dummyData.users[3]);\n\n\n      //seed partners\n      // this.seeders.seedPartners(this.dummyData.partners[0]);\n\n      //seed drivers\n      this.seeders.seedUsers(this.dummyData.drivers[0]);\n      // this.seeders.seedUsers(this.dummyData.drivers[1]);\n      // this.seeders.seedUsers(this.dummyData.drivers[2]);\n      // this.seeders.seedUsers(this.dummyData.drivers[3]);\n  \n      //plan category\n      this.seeders.seedPlanCategory(this.dummyData.plan[0]);\n      this.seeders.seedPlanCategory(this.dummyData.plan[1]);\n\n      //individual plan \n       this.seeders.seedIndividualPlans(this.dummyData.individualPlan[0]);\n      this.seeders.seedIndividualPlans(this.dummyData.individualPlan[1]);\n       this.seeders.seedIndividualPlans(this.dummyData.individualPlan[2]);\n     this.seeders.seedIndividualPlans(this.dummyData.individualPlan[3]);\n\n     //coperate plan addCoperatePlan\n       this.seeders.seedCoperatePlans(this.dummyData.coperatePlan[0]);\n      this.seeders.seedCoperatePlans(this.dummyData.coperatePlan[1]);\n      \n\n\n       //users plan addCoperatePlan\n      // this.seeders.seedUsersPlan(this.dummyData.userPlan[0]);\n\n\n\n      //wallet\n      // this.seeders.seedWalletHistory(this.dummyData.walletHistory[0]);\n      // this.seeders.seedWalletHistory(this.dummyData.walletHistory[1]);\n      // this.seeders.seedWalletHistory(this.dummyData.walletHistory[2]);\n      // this.seeders.seedWalletHistory(this.dummyData.walletHistory[3]);\n\n\n\n      // this.seeders.seedPaymentHistory(this.dummyData.paymentHistory[0]);\n      \n\n\n      \n      \n      \n\n      //cars\n      this.seeders.seedCars(this.dummyData.cars[0]);\n      this.seeders.seedCars(this.dummyData.cars[1]);\n      this.seeders.seedCars(this.dummyData.cars[2]);\n      this.seeders.seedCars(this.dummyData.cars[3]);\n      this.seeders.seedCars(this.dummyData.cars[4]);\n\n\n      //  this.seeders.seedItinerary(this.dummyData.userItinerary[0]);\n      // this.seeders.seedItinerary(this.dummyData.userItinerary[1]);\n      // this.seeders.seedItinerary(this.dummyData.userItinerary[2]);\n     \n\n        console.log(\"starting interventions seeds...\")\n //      this.seeders.seedSOSRequestByUser(\n //      this.dummyData.redflags[0], \n //      this.dummyData.redflags[0].user_id);\n\n //       this.seeders.seedSOSRequestByUser(\n //      this.dummyData.redflags[1], \n //         1);\n\n\n // this.seeders.seedSOSRequestByUser(\n //      this.dummyData.redflags[2], \n //      1);\n\n // this.seeders.seedSOSRequestByUser(\n //      this.dummyData.redflags[3], \n //      1);\n\n\n      \n\n //    console.log(\"starting redflags seeds...\")\n //      this.seeders.seedFeedbackByUser(\n //      this.dummyData.interventions[0], \n //      0);\n\n //      this.seeders.seedFeedbackByUser(\n //      this.dummyData.interventions[1], \n //      0);\n\n //      this.seeders.seedFeedbackByUser(\n //      this.dummyData.interventions[2], \n //      0);\n\n      \n\n      // this.seeders.seedFaqs(this.dummyData.faqs[0]);\n      // this.seeders.seedFaqs(this.dummyData.faqs[1]);\n      // this.seeders.seedFaqs(this.dummyData.faqs[2]);\n\n\n      // this.seeders.seedNotification(this.dummyData.notification[0]);\n      // this.seeders.seedNotification(this.dummyData.notification[1]);\n      // this.seeders.seedNotification(this.dummyData.notification[2]);\n      \n\n     // this.seeders.seedMechanicRequest(this.dummyData.mechanicRequest[0]);\n      //to prevent database from halting test process\n      setTimeout(() =>{\n        mongoose.connection.close();\n            \n      },39000 )\n    \n    }\n}\n\nlet Migrate = new SeedFactory();\nMigrate.runSeeder()\n\n \nexport default SeedFactory;\n"],"file":"migrations.js"}