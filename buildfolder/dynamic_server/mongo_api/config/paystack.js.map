{"version":3,"sources":["../../../../server/dynamic_server/mongo_api/config/paystack.js"],"names":["dotenv","config","api_url_init","api_url_verify","paystack","request","MySecretKey","process","env","PAYSTACKSECRET","initializePayment","form","mycallback","options","url","headers","authorization","callback","error","response","body","post","verifyPayment","ref","encodeURIComponent","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AACAA,mBAAOC,MAAP;;AACA,IAAMC,YAAY,0BAAE,gDAAF,CAAlB;AACA,IAAMC,cAAc,0BAAE,6CAAF,CAApB;;;AACA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,OAAD,EAAa;AAAA;AAC1B,MAAMC,WAAW,0BAAG,YAAWC,OAAO,CAACC,GAAR,CAAYC,cAA1B,CAAjB,CAD0B,CACiC;;AADjC;;AAG1B,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,IAAD,EAAOC,UAAP,EAAsB;AAAA;AAC5C,QAAMC,OAAO,0BAAG;AACZC,MAAAA,GAAG,EAAEZ,YADO;AAEZa,MAAAA,OAAO,EAAG;AACNC,QAAAA,aAAa,EAAEV,WADT;AAEN,wBAAgB,kBAFV;AAGN,yBAAiB;AAHX,OAFE;AAOZK,MAAAA,IAAI,EAAJA;AAPY,KAAH,CAAb;AAD4C;;AAU5C,QAAMM,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAQC,QAAR,EAAkBC,IAAlB,EAA2B;AAAA;AAAA;AACxC,aAAOR,UAAU,CAACM,KAAD,EAAQE,IAAR,CAAjB;AACH,KAFD;;AAV4C;AAa5Cf,IAAAA,OAAO,CAACgB,IAAR,CAAaR,OAAb,EAAsBI,QAAtB;AACH,GAdD;;AAH0B;;AAmB1B,MAAMK,aAAa,GAAG,SAAhBA,aAAgB,CAACC,GAAD,EAAMX,UAAN,EAAqB;AAAA;AACvC,QAAMC,OAAO,2BAAG;AACZC,MAAAA,GAAG,EAAGX,cAAc,GAACqB,kBAAkB,CAACD,GAAD,CAD3B;AAEZR,MAAAA,OAAO,EAAG;AACNC,QAAAA,aAAa,EAAEV,WADT;AAEN,wBAAgB,kBAFV;AAGN,yBAAiB;AAHX;AAFE,KAAH,CAAb;AADuC;;AASvC,QAAMW,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAQC,QAAR,EAAkBC,IAAlB,EAA2B;AAAA;AAAA;AACxC,aAAOR,UAAU,CAACM,KAAD,EAAQE,IAAR,CAAjB;AACH,KAFD;;AATuC;AAYvCf,IAAAA,OAAO,CAACQ,OAAD,EAAUI,QAAV,CAAP;AACH,GAbD;;AAnB0B;AAkC1B,SAAO;AAACP,IAAAA,iBAAiB,EAAjBA,iBAAD;AAAoBY,IAAAA,aAAa,EAAbA;AAApB,GAAP;AACH,CAnCD;;;AAqCAG,MAAM,CAACC,OAAP,GAAiBtB,QAAjB","sourcesContent":["import dotenv from \"dotenv\";\ndotenv.config();\nconst api_url_init ='https://api.paystack.co/transaction/initialize';\nconst api_url_verify ='https://api.paystack.co/transaction/verify/';\nconst paystack = (request) => {\n    const MySecretKey = 'Bearer '+ process.env.PAYSTACKSECRET; //saladin\n  \n    const initializePayment = (form, mycallback) => {\n        const options = {\n            url :api_url_init,\n            headers : {\n                authorization: MySecretKey,\n                'content-type': 'application/json',\n                'cache-control': 'no-cache'    \n            },\n            form\n        }\n        const callback = (error, response, body) => {\n            return mycallback(error, body)\n        }\n        request.post(options, callback)\n    }\n\n    const verifyPayment = (ref, mycallback) => {\n        const options = {\n            url : api_url_verify+encodeURIComponent(ref),\n            headers : {\n                authorization: MySecretKey,\n                'content-type': 'application/json',\n                'cache-control': 'no-cache'    \n            }\n        }\n        const callback = (error, response, body) => {\n            return mycallback(error, body)\n        }\n        request(options, callback)\n    }\n\n    return {initializePayment, verifyPayment};\n}\n\nmodule.exports = paystack;"],"file":"paystack.js"}